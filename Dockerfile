# 프로젝트 루트에 위치합니다.
# - zenika/alpine-chrome:stable을 베이스로 사용
# - 한글 폰트 설치를 위해 잠시 root 권한을 획득합니다.
FROM zenika/alpine-chrome:stable

# -------------------------------------------------------------
# 한글 폰트 설치 (apk: 알파인 패키지 매니저)
# -------------------------------------------------------------
USER root

# font-noto-cjk는 CJK(중국어/일본어/한국어)용 Noto 폰트 패키지
RUN apk add --no-cache font-noto-cjk \
    # 설치 후 캐시 정리로 이미지 슬림화
    && rm -rf /var/cache/apk/*

# -------------------------------------------------------------
# 보안을 위해 다시 비(非)루트 사용자로 전환
# zenika/alpine-chrome 이미지에서는 기본 사용자로 chrome이 있음
# -------------------------------------------------------------
USER chrome
